{"ast":null,"code":"// вот вам функция для сохранения объектов в память браузера\n// (данные в этом хранилище сохраняться даже при перезагрузке компа):\nexport function saveState(key, state) {\n  const stateAsString = JSON.stringify(state);\n  localStorage.setItem(key, stateAsString);\n}\n\n// и вот вам функция для получения сохранённого объекта в памяти браузера:\nexport function restoreState(key, defaultState) {\n  let state = defaultState;\n  console.log(key, \"key\");\n  console.log(state, \"state\");\n  const stateAsString = localStorage.getItem(key);\n  console.log(stateAsString, \"stateAsString\");\n  if (stateAsString !== null) state = JSON.parse(stateAsString);\n  console.log(state, \"second state\");\n  return state;\n}\n\n// ---------------------------------------------------------------------------------------------------------------\n// пример использования:\n/*\ntype StateType = {\n    x: string\n    y: number\n}\n\n// сохраняем объект типа StateType в ячейке 'test'\nsaveState<StateType>('test', { x: 'A', y: 1 })\n\n// получаем в переменную state объект из ячейки 'test' или дэфолтный объект если ячейка пуста\nconst state: StateType = restoreState<StateType>('test', { x: '', y: 0 })\n */","map":{"version":3,"names":["saveState","key","state","stateAsString","JSON","stringify","localStorage","setItem","restoreState","defaultState","console","log","getItem","parse"],"sources":["/Users/anatolisaukhin/hw-02/src/s2-homeworks/hw06/localStorage/localStorage.ts"],"sourcesContent":["// вот вам функция для сохранения объектов в память браузера\n// (данные в этом хранилище сохраняться даже при перезагрузке компа):\nexport function saveState<T>(key: string, state: T) {\n    const stateAsString = JSON.stringify(state)\n    localStorage.setItem(key, stateAsString)\n}\n\n// и вот вам функция для получения сохранённого объекта в памяти браузера:\nexport function restoreState<T>(key: string, defaultState: T) {\n    let state = defaultState\n    console.log(key,\"key\")\n    console.log(state,\"state\")\n    const stateAsString = localStorage.getItem(key)\nconsole.log(stateAsString,\"stateAsString\")\n\n    if (stateAsString !== null) state = JSON.parse(stateAsString) as T\nconsole.log(state,\"second state\")\n\n    return state\n}\n\n// ---------------------------------------------------------------------------------------------------------------\n// пример использования:\n/*\ntype StateType = {\n    x: string\n    y: number\n}\n\n// сохраняем объект типа StateType в ячейке 'test'\nsaveState<StateType>('test', { x: 'A', y: 1 })\n\n// получаем в переменную state объект из ячейки 'test' или дэфолтный объект если ячейка пуста\nconst state: StateType = restoreState<StateType>('test', { x: '', y: 0 })\n */\n"],"mappings":"AAAA;AACA;AACA,OAAO,SAASA,SAASA,CAAIC,GAAW,EAAEC,KAAQ,EAAE;EAChD,MAAMC,aAAa,GAAGC,IAAI,CAACC,SAAS,CAACH,KAAK,CAAC;EAC3CI,YAAY,CAACC,OAAO,CAACN,GAAG,EAAEE,aAAa,CAAC;AAC5C;;AAEA;AACA,OAAO,SAASK,YAAYA,CAAIP,GAAW,EAAEQ,YAAe,EAAE;EAC1D,IAAIP,KAAK,GAAGO,YAAY;EACxBC,OAAO,CAACC,GAAG,CAACV,GAAG,EAAC,KAAK,CAAC;EACtBS,OAAO,CAACC,GAAG,CAACT,KAAK,EAAC,OAAO,CAAC;EAC1B,MAAMC,aAAa,GAAGG,YAAY,CAACM,OAAO,CAACX,GAAG,CAAC;EACnDS,OAAO,CAACC,GAAG,CAACR,aAAa,EAAC,eAAe,CAAC;EAEtC,IAAIA,aAAa,KAAK,IAAI,EAAED,KAAK,GAAGE,IAAI,CAACS,KAAK,CAACV,aAAa,CAAM;EACtEO,OAAO,CAACC,GAAG,CAACT,KAAK,EAAC,cAAc,CAAC;EAE7B,OAAOA,KAAK;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}