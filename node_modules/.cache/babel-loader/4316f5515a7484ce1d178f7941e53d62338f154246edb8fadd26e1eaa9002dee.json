{"ast":null,"code":"// вот вам функция для сохранения объектов в память браузера\n// (данные в этом хранилище сохраняться даже при перезагрузке компа):\nexport function saveState(key, state) {\n  const stateAsString = JSON.stringify(state);\n  localStorage.setItem(key, stateAsString);\n  return state;\n}\n\n// и вот вам функция для получения сохранённого объекта в памяти браузера:\nexport function restoreState(key, defaultState) {\n  let state = defaultState;\n  const stateAsString = localStorage.getItem(key);\n  if (stateAsString !== null) state = JSON.parse(stateAsString);\n  return state;\n}\n\n// ---------------------------------------------------------------------------------------------------------------\n// пример использования:\n/*\ntype StateType = {\n    x: string\n    y: number\n}\n\n// сохраняем объект типа StateType в ячейке 'test'\nsaveState<StateType>('test', { x: 'A', y: 1 })\n\n// получаем в переменную state объект из ячейки 'test' или дэфолтный объект если ячейка пуста\nconst state: StateType = restoreState<StateType>('test', { x: '', y: 0 })\n */","map":{"version":3,"names":["saveState","key","state","stateAsString","JSON","stringify","localStorage","setItem","restoreState","defaultState","getItem","parse"],"sources":["/Users/anatolisaukhin/hw-02/src/s2-homeworks/hw06/localStorage/localStorage.ts"],"sourcesContent":["// вот вам функция для сохранения объектов в память браузера\n// (данные в этом хранилище сохраняться даже при перезагрузке компа):\nexport function saveState<T>(key: string, state: T) {\n    const stateAsString = JSON.stringify(state)\n    localStorage.setItem(key, stateAsString)\n    return state\n}\n\n// и вот вам функция для получения сохранённого объекта в памяти браузера:\nexport function restoreState<T>(key: string, defaultState: T) {\n    let state = defaultState\n    const stateAsString = localStorage.getItem(key)\n    if (stateAsString !== null) state = JSON.parse(stateAsString) as T\n    return state\n}\n\n// ---------------------------------------------------------------------------------------------------------------\n// пример использования:\n/*\ntype StateType = {\n    x: string\n    y: number\n}\n\n// сохраняем объект типа StateType в ячейке 'test'\nsaveState<StateType>('test', { x: 'A', y: 1 })\n\n// получаем в переменную state объект из ячейки 'test' или дэфолтный объект если ячейка пуста\nconst state: StateType = restoreState<StateType>('test', { x: '', y: 0 })\n */\n"],"mappings":"AAAA;AACA;AACA,OAAO,SAASA,SAASA,CAAIC,GAAW,EAAEC,KAAQ,EAAE;EAChD,MAAMC,aAAa,GAAGC,IAAI,CAACC,SAAS,CAACH,KAAK,CAAC;EAC3CI,YAAY,CAACC,OAAO,CAACN,GAAG,EAAEE,aAAa,CAAC;EACxC,OAAOD,KAAK;AAChB;;AAEA;AACA,OAAO,SAASM,YAAYA,CAAIP,GAAW,EAAEQ,YAAe,EAAE;EAC1D,IAAIP,KAAK,GAAGO,YAAY;EACxB,MAAMN,aAAa,GAAGG,YAAY,CAACI,OAAO,CAACT,GAAG,CAAC;EAC/C,IAAIE,aAAa,KAAK,IAAI,EAAED,KAAK,GAAGE,IAAI,CAACO,KAAK,CAACR,aAAa,CAAM;EAClE,OAAOD,KAAK;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}